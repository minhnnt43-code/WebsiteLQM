<!DOCTYPE html>
<html lang="vi">
<head>
    <base target="_top">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang Web Cá Nhân - Lâm Quốc Minh</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f1f5f9; scroll-behavior: smooth; }
        .card-style { background-color: #ffffff; border: 1px solid #e2e8f0; box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.05), 0 1px 2px -1px rgb(0 0 0 / 0.05); }
        .filter-btn { background-color: #e2e8f0; color: #475569; padding: 6px 12px; border-radius: 9999px; font-weight: 500; }
        .filter-btn.active { background-color: #2563eb; color: white; }
        .tab-btn { padding: 8px 16px; cursor: pointer; border-bottom: 3px solid transparent; color: #475569; font-weight: 600; transition: all 0.2s; }
        .tab-btn.active { color: #2563eb; border-bottom-color: #2563eb; }
    </style>
</head>
<body class="bg-slate-100 text-slate-800">

    <div id="public-page" style="display: none;">
        <div class="container mx-auto p-4 md:p-8 max-w-4xl min-h-screen flex flex-col justify-center">
             <header class="text-center mb-12">
                <img src="https://drive.google.com/uc?id=1I5sJ9yGGKlrIFyjQMmLmRqETNSTfQwXM" alt="Ảnh chân dung Lâm Quốc Minh" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover border-4 border-white shadow-lg">
                <h1 class="text-4xl font-bold text-slate-900">Lâm Quốc Minh</h1>
                <p class="text-lg text-slate-500 mt-2">Sinh viên khoa Luật, Trường Đại học Kinh tế - Luật, ĐHQG-HCM</p>
            </header>
            <section class="mb-12">
                 <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                    <a href="tel:0899012608" class="card-style rounded-lg p-4 hover:bg-slate-50 transition-all duration-300"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mx-auto mb-2 text-blue-600"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81 .7A2 2 0 0 1 22 16.92z"></path></svg> <span class="font-semibold text-slate-800">Điện thoại</span><p class="text-sm text-slate-500">0899012608</p> </a>
                    <a href="mailto:minhlq23504b@st.uel.edu.vn" class="card-style rounded-lg p-4 hover:bg-slate-50 transition-all duration-300"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mx-auto mb-2 text-blue-600"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg> <span class="font-semibold text-slate-800">Email</span><p class="text-sm text-slate-500 truncate">minhlq23504b@st.uel.edu.vn</p> </a>
                    <a href="https://www.facebook.com/lamquocminh18" target="_blank" class="card-style rounded-lg p-4 hover:bg-slate-50 transition-all duration-300"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mx-auto mb-2 text-blue-600"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg> <span class="font-semibold text-slate-800">Facebook</span><p class="text-sm text-slate-500">lamquocminh18</p> </a>
                    <a href="https://www.instagram.com/minhlq_18/" target="_blank" class="card-style rounded-lg p-4 hover:bg-slate-50 transition-all duration-300"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mx-auto mb-2 text-blue-600"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg> <span class="font-semibold text-slate-800">Instagram</span><p class="text-sm text-slate-500">minhlq_18</p> </a>
                </div>
            </section>
            
            <section id="achievements-public" class="mb-12">
                <h2 class="text-2xl font-bold text-slate-900 mb-6 text-center">Hoạt động & Thành tích</h2>
                <div id="achievements-list-public" class="space-y-8">
                    <!-- Danh sách thành tích sẽ được tự động chèn vào đây bởi JavaScript -->
                </div>
            </section>
            
            <footer class="text-center mt-auto"> <button id="show-login-btn" class="text-blue-600 hover:text-blue-500 transition-colors">Đăng nhập quản trị</button> </footer>
        </div>
    </div>
    
    <div id="login-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 hidden">
        <div class="fixed inset-0 bg-black/50" id="login-modal-backdrop"></div>
        <div class="card-style rounded-lg p-8 w-full max-w-sm z-10">
            <h2 class="text-2xl font-bold text-slate-900 mb-6 text-center">Đăng nhập Quản trị</h2>
            <form id="login-form">
                <div class="mb-4"> <label for="username" class="block text-sm font-medium text-slate-600 mb-1">Tài khoản</label> <input type="text" id="username" class="w-full bg-slate-100 border border-slate-300 rounded-md p-2 text-slate-800" required> </div>
                <div class="mb-6"> <label for="password" class="block text-sm font-medium text-slate-600 mb-1">Mật khẩu</label> <input type="password" id="password" class="w-full bg-slate-100 border border-slate-300 rounded-md p-2 text-slate-800" required> </div>
                <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2.5 px-4 rounded-lg">Đăng nhập</button>
                <p id="login-error" class="text-red-500 text-sm mt-4 text-center h-5"></p>
            </form>
        </div>
    </div>

    <div id="app-container" class="min-h-screen hidden bg-white">
         <header class="flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 sm:p-6 bg-white border-b border-slate-200 gap-4">
            <div> <h1 class="text-xl font-bold text-slate-800">Xin chào Lâm Quốc Minh, chúc bạn một ngày vui vẻ!</h1> <p id="current-time" class="text-sm text-slate-500"></p> </div>
            <button id="logout-btn" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg text-sm w-full sm:w-auto">Đăng xuất</button>
        </header>
        <main class="p-4 sm:p-6 lg:p-8">
            <div class="mb-6">
                <nav class="flex space-x-2 sm:space-x-4 border-b border-slate-200">
                    <button data-tab="cong-viec" class="tab-btn active">Công việc</button>
                    <button data-tab="thanh-tich" class="tab-btn">Thành tích</button>
                </nav>
            </div>
            <div id="tab-content">
                <div id="cong-viec-content" class="tab-pane">
                    <!-- Khu vực công việc giữ nguyên -->
                </div>
                
                <div id="thanh-tich-content" class="tab-pane hidden">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <!-- Cột bên trái: Thêm thành tích -->
                        <div class="card-style p-6 rounded-lg">
                            <h2 class="text-2xl font-bold text-slate-800">Thêm Thành tích Mới</h2>
                            <form id="achievement-form" class="mt-4 space-y-4">
                                <div>
                                    <label for="achievement-title" class="block text-sm font-medium text-slate-600 mb-1">Tiêu đề thành tích</label>
                                    <input type="text" id="achievement-title" class="w-full bg-slate-100 border-slate-300 rounded-md p-2" required>
                                </div>
                                <div>
                                    <label for="achievement-description" class="block text-sm font-medium text-slate-600 mb-1">Mô tả</label>
                                    <textarea id="achievement-description" rows="4" class="w-full bg-slate-100 border-slate-300 rounded-md p-2" required></textarea>
                                </div>
                                <div>
                                    <label for="achievement-image-id" class="block text-sm font-medium text-slate-600 mb-1">ID Ảnh Google Drive</label>
                                    <input type="text" id="achievement-image-id" class="w-full bg-slate-100 border-slate-300 rounded-md p-2 font-mono text-sm" placeholder="1AbCDeFG_YourImageIDHere123" required>
                                    <p class="text-xs text-slate-500 mt-1">
                                        Hướng dẫn: Tải ảnh lên Drive, Chia sẻ cho "Bất kỳ ai có đường liên kết" và dán ID ảnh vào đây.
                                    </p>
                                </div>
                                <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2.5 px-4 rounded-lg">Thêm thành tích</button>
                            </form>
                        </div>
                        
                        <!-- Cột bên phải: Danh sách thành tích đã có -->
                        <div class="card-style p-6 rounded-lg">
                            <h2 class="text-2xl font-bold text-slate-800">Danh sách Thành tích</h2>
                            <div id="achievements-list-admin" class="mt-4 space-y-4 max-h-[60vh] overflow-y-auto pr-2">
                                <!-- Danh sách sẽ được chèn vào đây -->
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </main>
    </div>
    
    <div id="confirm-modal"><!-- Modal xác nhận giữ nguyên --></div>
    <div id="notification-toast"><!-- Toast giữ nguyên --></div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // ... (Khai báo tất cả các DOM element cũ)
        const tabBtns = document.querySelectorAll('.tab-btn');
        const tabPanes = document.querySelectorAll('.tab-pane');
        const achievementsListPublic = document.getElementById('achievements-list-public');
        const achievementsListAdmin = document.getElementById('achievements-list-admin');
        const achievementForm = document.getElementById('achievement-form');
        const achievementTitleInput = document.getElementById('achievement-title');
        const achievementDescriptionInput = document.getElementById('achievement-description');
        const achievementImageIdInput = document.getElementById('achievement-image-id');
        
        let appState = { tasks: [], achievements: [] };
        const STORAGE_KEY = 'minhWebApp_localStorage_data_v3';

        // --- CÁC HÀM XỬ LÝ LƯU TRỮ (Đã thêm achievements) ---
        const saveStateToServer = () => { localStorage.setItem(STORAGE_KEY, JSON.stringify(appState)); };
        const loadDataFromServer = () => {
            const dataString = localStorage.getItem(STORAGE_KEY);
            if (dataString) {
                const loadedState = JSON.parse(dataString);
                appState.tasks = loadedState.tasks || [];
                appState.achievements = loadedState.achievements || [];
            } else {
                appState.tasks = [{id: 1, text: "Ví dụ: Hoàn thành trang web", category: 'hoctap', priority: 'high', startDateTime: '2025-09-10T09:00', endDateTime: '2025-09-10T11:00', completed: false}];
                appState.achievements = [
                    {id: 1, title: 'Giải Nhất Cuộc thi Hùng biện', description: 'Đây là phần mô tả chi tiết về thành tích này.', imageId: '1AbCDeFG_YourImageIDHere123'},
                    {id: 2, title: 'Hoàn thành khóa học ABC', description: 'Đây là mô tả cho thành tích thứ hai.', imageId: '2XyZ_YourImageIDHere_abc'}
                ];
            }
            renderTasks();
            renderAchievements();
        };

        // --- CÁC HÀM RENDER THÀNH TÍCH MỚI ---
        const renderAchievements = () => {
            achievementsListPublic.innerHTML = '';
            achievementsListAdmin.innerHTML = '';
            
            if (appState.achievements.length === 0) {
                const placeholder = '<div class="text-center text-slate-500 py-8"><p>Chưa có thành tích nào.</p></div>';
                achievementsListPublic.innerHTML = placeholder;
                achievementsListAdmin.innerHTML = placeholder;
                return;
            }

            appState.achievements.forEach(ach => {
                const imageUrl = `https://drive.google.com/uc?id=${ach.imageId}`;

                // Render cho trang công khai
                const publicHtml = `
                    <div class="achievement-item card-style rounded-lg p-6 flex flex-col md:flex-row items-center gap-6">
                        <img src="${imageUrl}" alt="${ach.title}" class="w-full md:w-1/3 h-48 rounded-lg object-cover">
                        <div class="text-center md:text-left">
                            <h3 class="text-xl font-bold text-slate-800">${ach.title}</h3>
                            <p class="text-slate-500 mt-2">${ach.description}</p>
                        </div>
                    </div>`;
                achievementsListPublic.innerHTML += publicHtml;

                // Render cho trang quản trị
                const adminHtml = `
                    <div class="achievement-admin-item flex items-start gap-4 p-2 border-b border-slate-200">
                        <img src="${imageUrl}" alt="${ach.title}" class="w-16 h-16 rounded-md object-cover flex-shrink-0">
                        <div class="flex-grow">
                            <h4 class="font-semibold text-slate-800">${ach.title}</h4>
                            <p class="text-sm text-slate-500">${ach.description}</p>
                        </div>
                        <button data-id="${ach.id}" class="delete-achievement-btn text-slate-400 hover:text-red-500 p-1 flex-shrink-0" title="Xóa">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/><path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/></svg>
                        </button>
                    </div>`;
                achievementsListAdmin.innerHTML += adminHtml;
            });
        };

        // --- CÁC HÀM XỬ LÝ SỰ KIỆN THÀNH TÍCH MỚI ---
        const handleAddAchievement = (e) => {
            e.preventDefault();
            const newAchievement = {
                id: Date.now(),
                title: achievementTitleInput.value,
                description: achievementDescriptionInput.value,
                imageId: achievementImageIdInput.value
            };
            appState.achievements.push(newAchievement);
            saveStateToServer();
            renderAchievements();
            achievementForm.reset();
            showNotification('Đã thêm thành tích thành công!');
        };

        const handleDeleteAchievement = async (achievementId) => {
            const confirmed = await showConfirm('Xóa thành tích?', 'Bạn có chắc chắn muốn xóa thành tích này không?');
            if (confirmed) {
                appState.achievements = appState.achievements.filter(ach => ach.id !== achievementId);
                saveStateToServer();
                renderAchievements();
                showNotification('Đã xóa thành tích.');
            }
        };

        // --- CÁC HÀM CŨ GIỮ NGUYÊN ---
        // (Tất cả các hàm handleLogin, handleLogout, renderTasks, handleAddTask, v.v...)
        // ...

        // --- CẬP NHẬT GÁN SỰ KIỆN ---
        const switchTab = (e) => {
            const tabId = e.currentTarget.dataset.tab;
            tabBtns.forEach(btn => btn.classList.remove('active'));
            tabPanes.forEach(pane => pane.classList.add('hidden'));
            e.currentTarget.classList.add('active');
            document.getElementById(`${tabId}-content`).classList.remove('hidden');
        };
        
        tabBtns.forEach(btn => btn.addEventListener('click', switchTab));
        achievementForm.addEventListener('submit', handleAddAchievement);
        document.body.addEventListener('click', e => {
            const deleteBtn = e.target.closest('.delete-achievement-btn');
            if (deleteBtn) {
                handleDeleteAchievement(parseInt(deleteBtn.dataset.id));
            }
        });
        
        // ... (dán phần `checkLoginState();` và các hàm gán sự kiện cũ còn lại vào đây) ...

        // KHỞI CHẠY
        checkLoginState(); // Hàm này sẽ tự gọi loadDataFromServer và render mọi thứ
    });
    </script>
</body>
</html>
